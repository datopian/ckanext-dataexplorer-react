(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a(49),l=a(20),o=a(42),i=a(43),c=a(44),u=a(45);n.a.use(r.a).use(l.a).init({detection:{order:["querystring","cookie","localStorage","navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"defaultLocale",lookupLocalStorage:"defaultLocale",lookupFromPathIndex:0,lookupFromSubdomainIndex:0},resources:{en:{translation:o},da:{translation:i},fr:{translation:c},pt_BR:{translation:u}},react:{useSuspense:!1},initImmediate:!1,fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});var s=n.a,m=a(0),d=a.n(m),p=(a(60),a(7)),f=a(29),b=a.n(f);var y=function(e){var t=JSON.parse(JSON.stringify(e.resource)),a=t.schema.fields.filter(function(e){return e.type&&e.type.includes("date")}),n=a.length>0?a[0].name:null,r=t.schema.fields.filter(function(e){return!(e.type&&e.type.includes("date"))}),o=Object(l.b)().t,i=[{name:"=",label:"="},{name:"!=",label:"!="},{name:"<",label:"<"},{name:">",label:">"},{name:"<=",label:"<="},{name:">=",label:">="}];return d.a.createElement(p.d,{initialValues:{rules:[],date:{startDate:null,endDate:null,fieldName:n}},validate:function(e){return function(e){var t=JSON.parse(JSON.stringify(e)),a={};return t.date.startDate||t.date.endDate||0!==t.rules.length||(a.message="Please, provide at least one rule."),a}(e)},onSubmit:function(t){return function(t){e.action(t)}(t)},onReset:function(){e.action({})},render:function(e){var t=e.values,l=e.setFieldValue,c=e.handleReset;return d.a.createElement(p.c,{className:"form-inline dq-main-container"},d.a.createElement("div",{className:"dq-heading"}),n?d.a.createElement("div",{className:"dq-date-picker"},d.a.createElement(p.a,{name:"date.fieldName",component:"select",className:"form-control"},a.map(function(e,t){return d.a.createElement("option",{value:e.name,key:"dateField".concat(t)},e.title||e.name)})),d.a.createElement(b.a,{value:t.date.startDate,clearIcon:"X",nativeInputAriaLabel:"Start date input box",dayAriaLabel:"Start day",monthAriaLabel:"Start month",yearAriaLabel:"Start year",onChange:function(e){return l("date.startDate",e)},format:"yyyy-MM-dd"}),d.a.createElement("span",{className:"fa fa-long-arrow-right","aria-hidden":"true"}),d.a.createElement(b.a,{value:t.date.endDate,clearIcon:"X",nativeInputAriaLabel:"End date input box",dayAriaLabel:"End day",monthAriaLabel:"End month",yearAriaLabel:"End year",onChange:function(e){return l("date.endDate",e)},returnValue:"end",format:"yyyy-MM-dd",minDate:t.date.startDate})):"",d.a.createElement(p.b,{name:"rules",render:function(e){return d.a.createElement("div",{className:"dq-rule-container"},d.a.createElement("div",{className:"dq-body"},t.rules&&t.rules.length>0?t.rules.map(function(t,a){return d.a.createElement("div",{key:a,className:"dq-rule-item"},d.a.createElement(p.a,{name:"rules.".concat(a,".combinator"),"aria-label":"Choose combinator: AND/OR",component:"select",className:"form-control",required:!0},d.a.createElement("option",{value:"AND"},"AND"),d.a.createElement("option",{value:"OR"},"OR")),d.a.createElement(p.a,{name:"rules.".concat(a,".field"),"aria-label":"Choose field",component:"select",className:"form-control",required:!0},r.map(function(e,t){return d.a.createElement("option",{value:e.name,key:"field".concat(t)},e.title||e.name)})),d.a.createElement(p.a,{name:"rules.".concat(a,".operator"),"aria-label":"Choose operator",component:"select",className:"form-control",required:!0},i.map(function(e,t){return d.a.createElement("option",{value:e.name,key:"operator".concat(t)},e.label)})),d.a.createElement(p.a,{name:"rules.".concat(a,".value"),"aria-label":"Input custom rule",className:"form-control",required:!0}),d.a.createElement("button",{type:"button",className:"btn btn-default dq-btn-remove",onClick:function(){return e.remove(a)}},"-"),d.a.createElement("button",{type:"button",className:"btn btn-default dq-btn-add",onClick:function(){return e.insert(a,{combinator:"AND",field:r[0].name,operator:"=",value:""})}},"+"))}):d.a.createElement("button",{type:"button",className:"btn btn-default dq-rule-add",onClick:function(){return e.push({combinator:"AND",field:r[0].name,operator:"=",value:""})}},o("Add a rule"))),d.a.createElement("div",{className:"dq-rule-submit dq-footer"},d.a.createElement("button",{type:"submit",className:"btn btn-primary submit-button"},o("Submit")),d.a.createElement("button",{type:"submit",className:"btn btn-primary reset-button",onClick:c},o("Reset"))))}}))}})},E=a(27),N=a.n(E);s.options.resources&&console.log("Translations loaded");var v=document.getElementById("datapackage-filters"),g=JSON.parse(v.getAttribute("resource")),h=!!v.getAttribute("filters")&&JSON.parse(v.getAttribute("filters"));try{N.a.render(d.a.createElement(function(e){var t=JSON.parse(JSON.stringify(e.resource)),a=!!e.filter&&JSON.parse(JSON.stringify(e.filter));if(t.schema){var n;if(t.proxy||t.api){var r=new URL(t.proxy||t.api),l=r.pathname.split("/");l.pop(),r.pathname=l.join("/")+"/",r.search="",n=r.href}else n=new URL(t.path).origin+"/api/3/action/";return d.a.createElement("div",{className:"App"},d.a.createElement(y,{resource:t,apiUrl:n,action:e.filterBuilderAction,filter:a}))}return d.a.createElement("div",{className:"no-filters"})},{resource:g,filterBuilderAction:function(e){console.log(e),document.getElementById("filters").value=JSON.stringify(e)},filter:h}),document.getElementById("datapackage-filters"))}catch(S){console.warn("Failed to render datapackage-filter",S)}},42:function(e){e.exports={"Add a rule":"Add a rule",Submit:"Submit",Reset:"Reset"}},43:function(e){e.exports={"Add a rule":"Tilf\xf8j en regel",Submit:"Indsend",Reset:"Nulstil"}},44:function(e){e.exports={"Add a rule":"Ajouter une r\xe8gle",Submit:"Soumettre",Reset:"Remettre"}},45:function(e){e.exports={"Add a rule":"Adicionar uma regra",Submit:"Enviar",Reset:"Reiniciar"}},50:function(e,t,a){e.exports=a(102)},60:function(e,t,a){}},[[50,1,2]]]);
//# sourceMappingURL=main.72384dec.chunk.js.map